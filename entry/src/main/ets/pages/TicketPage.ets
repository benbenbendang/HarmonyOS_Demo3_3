import router from '@ohos.router';

@Entry
@Component
struct TicketPage {
  @State selectedPassengers: string[] = []

  build() {
    Column() {
      // é¡¶éƒ¨æ 
      Row() {
        Text("ğŸ« ç¡®è®¤è®¢å•")
          .fontSize(22)
          .fontWeight(FontWeight.Bold)
          .fontColor(Color.White)
      }
      .width('100%').height(60)
      .justifyContent(FlexAlign.Center)
      .alignItems(VerticalAlign.Center)
      .backgroundColor('#7C3AED') // ç´«è‰²èƒŒæ™¯

      // è½¦æ¬¡ä¿¡æ¯å¡ç‰‡
      Row() {
        Column() {
          Text("00:25").fontSize(20).fontWeight(FontWeight.Bold).fontColor('#1E293B')
          Text("å§‹å‘ç«™").fontSize(14).fontColor('#64748B')
        }.alignItems(HorizontalAlign.Center).layoutWeight(1)

        Column() {
          Text("G1234").fontSize(20).fontWeight(FontWeight.Bold).fontColor('#1E293B')
          Text("8æ—¶1åˆ†").fontSize(14).fontColor('#64748B')
        }.alignItems(HorizontalAlign.Center).layoutWeight(1)

        Column() {
          Text("08:26").fontSize(20).fontWeight(FontWeight.Bold).fontColor('#1E293B')
          Text("ç»ˆç‚¹ç«™").fontSize(14).fontColor('#64748B')
        }.alignItems(HorizontalAlign.Center).layoutWeight(1)
      }
      .width('90%')
      .padding(20)
      .margin({ top: 20 })
      .backgroundColor('#FFFFFF')
      .borderRadius(20)
      .shadow({ radius: 12, color: '#33000000', offsetX: 0, offsetY: 4 })
      .border({ width: 2, color: '#F472B6' }) // ç²‰è‰²è¾¹æ¡†

      // å·²é€‰ä¹˜è½¦äºº
      if (this.selectedPassengers.length > 0) {
        Column({ space: 10 }) {
          Text("ğŸ‘¥ å·²é€‰æ‹©ä¹˜è½¦äºº")
            .fontSize(18).fontWeight(FontWeight.Medium).margin({ top: 20, bottom: 10 })
          ForEach(this.selectedPassengers, (p: string) => {
            Row() {
              Text("ğŸŒ¸").fontSize(18).margin({ right: 6 })
              Text(p).fontSize(16).fontColor('#374151')
            }
            .padding(10)
            .width('90%')
            .backgroundColor('#FCE7F3') // ç²‰è‰²åº•
            .borderRadius(12)
          })
        }
        .width('90%')
      }

      // é€‰æ‹©ä¹˜è½¦äººæŒ‰é’®
      Button("+ é€‰æ‹©ä¹˜è½¦äºº")
        .width('90%').height(48)
        .backgroundColor('#F59E0B') // æ©™è‰²
        .fontColor(Color.White)
        .fontWeight(FontWeight.Bold)
        .borderRadius(24)
        .margin({ top: 30 })
        .onClick(() => {
          router.pushUrl({
            url: 'pages/SelectPassengerPage',
            params: {
              callback: (list: string[]) => {
                this.selectedPassengers = list
              }
            }
          })
        })

      Blank().layoutWeight(1)
    }
    .width('100%').height('100%')
    .linearGradient({
      angle: 180,
      colors: [
        [0xFFE0F2FE, 0.0], // æ¸å˜èµ·ç‚¹ï¼ˆæµ…è“ï¼‰
        [0xFFFDF2F8, 1.0]  // æ¸å˜ç»ˆç‚¹ï¼ˆæµ…ç²‰ï¼‰
      ]
    })
    .alignItems(HorizontalAlign.Center)

  }
}
